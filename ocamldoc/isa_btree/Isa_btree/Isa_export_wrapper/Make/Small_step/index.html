<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Small_step (isa_btree.Isa_btree.Isa_export_wrapper.Make.Small_step)</title><link rel="stylesheet" href="../../../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../../index.html">isa_btree</a> &#x00BB; <a href="../../../index.html">Isa_btree</a> &#x00BB; <a href="../../index.html">Isa_export_wrapper</a> &#x00BB; <a href="../index.html">Make</a> &#x00BB; Small_step</nav><h1>Module <code>Make.Small_step</code></h1></header><dl><dt class="spec value" id="val-find_step"><a href="#val-find_step" class="anchor"></a><code><span class="keyword">val </span>find_step : constants:<a href="../../../Constants/index.html#type-t">Constants.t</a> <span>&#45;&gt;</span> cmp:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> int) <span>&#45;&gt;</span> store_ops:((<span class="type-var">'b</span> <span>&#45;&gt;</span> ((<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Disk_node/index.html#type-dnode">Isa_btree__Isa_export.Disk_node.dnode</a>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>)<span class="keyword"> * </span>(((<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Disk_node/index.html#type-dnode">Isa_btree__Isa_export.Disk_node.dnode</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>)<span class="keyword"> * </span>(<span class="type-var">'b</span> list <span>&#45;&gt;</span> (unit, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>))) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Find_state/index.html#type-find_state">Isa_btree__Isa_export.Find_state.find_state</a> <span>&#45;&gt;</span> ((<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Find_state/index.html#type-find_state">Isa_btree__Isa_export.Find_state.find_state</a>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a></code></dt><dd><p>Small step the find state: take a find state and return an updated find state (in the monad).</p></dd></dl><dl><dt class="spec value" id="val-mk_delete_state"><a href="#val-mk_delete_state" class="anchor"></a><code><span class="keyword">val </span>mk_delete_state : <span class="type-var">'k</span> <span>&#45;&gt;</span> <span class="type-var">'r</span> <span>&#45;&gt;</span> (<span class="type-var">'k</span>, <span class="type-var">'v</span>, <span class="type-var">'r</span>) <a href="../../index.html#type-delete_state">delete_state</a></code></dt><dd><p>Similar functionality to <code>mk_find_state</code></p></dd></dl><dl><dt class="spec value" id="val-delete_step"><a href="#val-delete_step" class="anchor"></a><code><span class="keyword">val </span>delete_step : constants:<a href="../../../Constants/index.html#type-t">Constants.t</a> <span>&#45;&gt;</span> cmp:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> int) <span>&#45;&gt;</span> store_ops:((<span class="type-var">'b</span> <span>&#45;&gt;</span> ((<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Disk_node/index.html#type-dnode">Isa_btree__Isa_export.Disk_node.dnode</a>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>)<span class="keyword"> * </span>(((<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Disk_node/index.html#type-dnode">Isa_btree__Isa_export.Disk_node.dnode</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>)<span class="keyword"> * </span>(<span class="type-var">'b</span> list <span>&#45;&gt;</span> (unit, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>))) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Delete_state/index.html#type-delete_state">Isa_btree__Isa_export.Delete_state.delete_state</a> <span>&#45;&gt;</span> ((<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Delete_state/index.html#type-delete_state">Isa_btree__Isa_export.Delete_state.delete_state</a>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a></code></dt><dt class="spec value" id="val-dest_d_finished"><a href="#val-dest_d_finished" class="anchor"></a><code><span class="keyword">val </span>dest_d_finished : (<span class="type-var">'k</span>, <span class="type-var">'v</span>, <span class="type-var">'r</span>) <a href="../../index.html#type-delete_state">delete_state</a> <span>&#45;&gt;</span> <span class="type-var">'r</span> option</code></dt><dd><p>The result is a reference to the updated B-tree</p></dd></dl><dl><dt class="spec value" id="val-wellformed_delete_state"><a href="#val-wellformed_delete_state" class="anchor"></a><code><span class="keyword">val </span>wellformed_delete_state : cmp:(<span class="type-var">'k</span> <span>&#45;&gt;</span> <span class="type-var">'k</span> <span>&#45;&gt;</span> int) <span>&#45;&gt;</span> constants:<a href="../../../Constants/index.html#type-t">Constants.t</a> <span>&#45;&gt;</span> r2t:(<span class="type-var">'t</span> <span>&#45;&gt;</span> <span class="type-var">'r</span> <span>&#45;&gt;</span> (<span class="type-var">'k</span>, <span class="type-var">'v</span>) <a href="../../../../Isa_btree__Isa_export/Tree/index.html#type-tree">Isa_btree__Isa_export.Tree.tree</a> option) <span>&#45;&gt;</span> (<span class="type-var">'k</span>, <span class="type-var">'v</span>) <a href="../../../../Isa_btree__Isa_export/Tree/index.html#type-tree">Isa_btree__Isa_export.Tree.tree</a> <span>&#45;&gt;</span> <span class="type-var">'t</span> <span>&#45;&gt;</span> <span class="type-var">'k</span> <span>&#45;&gt;</span> (<span class="type-var">'k</span>, <span class="type-var">'v</span>, <span class="type-var">'r</span>) <a href="../../index.html#type-delete_state">delete_state</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-insert_step"><a href="#val-insert_step" class="anchor"></a><code><span class="keyword">val </span>insert_step : cmp:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> int) <span>&#45;&gt;</span> constants:<a href="../../../Constants/index.html#type-t">Constants.t</a> <span>&#45;&gt;</span> store_ops:((<span class="type-var">'b</span> <span>&#45;&gt;</span> ((<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Disk_node/index.html#type-dnode">Isa_btree__Isa_export.Disk_node.dnode</a>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>)<span class="keyword"> * </span>(((<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Disk_node/index.html#type-dnode">Isa_btree__Isa_export.Disk_node.dnode</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>)<span class="keyword"> * </span>(<span class="type-var">'b</span> list <span>&#45;&gt;</span> (unit, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>))) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Insert_state/index.html#type-insert_state">Isa_btree__Isa_export.Insert_state.insert_state</a> <span>&#45;&gt;</span> ((<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Insert_state/index.html#type-insert_state">Isa_btree__Isa_export.Insert_state.insert_state</a>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a></code></dt><dt class="spec value" id="val-im_step"><a href="#val-im_step" class="anchor"></a><code><span class="keyword">val </span>im_step : constants:<a href="../../../Constants/index.html#type-t">Constants.t</a> <span>&#45;&gt;</span> cmp:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> int) <span>&#45;&gt;</span> store_ops:((<span class="type-var">'b</span> <span>&#45;&gt;</span> ((<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Disk_node/index.html#type-dnode">Isa_btree__Isa_export.Disk_node.dnode</a>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>)<span class="keyword"> * </span>(((<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Disk_node/index.html#type-dnode">Isa_btree__Isa_export.Disk_node.dnode</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>)<span class="keyword"> * </span>(<span class="type-var">'b</span> list <span>&#45;&gt;</span> (unit, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>))) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Insert_many_state/index.html#type-imst">Isa_btree__Isa_export.Insert_many_state.imst</a> <span>&#45;&gt;</span> ((<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'b</span>) <a href="../../../../Isa_btree__Isa_export/Insert_many_state/index.html#type-imst">Isa_btree__Isa_export.Insert_many_state.imst</a>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a></code></dt><dt class="spec value" id="val-ls_step"><a href="#val-ls_step" class="anchor"></a><code><span class="keyword">val </span>ls_step : constants:<a href="../../../Constants/index.html#type-t">Constants.t</a> <span>&#45;&gt;</span> cmp:(<span class="type-var">'k</span> <span>&#45;&gt;</span> <span class="type-var">'k</span> <span>&#45;&gt;</span> int) <span>&#45;&gt;</span> store_ops:((<span class="type-var">'r</span> <span>&#45;&gt;</span> ((<span class="type-var">'k</span>, <span class="type-var">'v</span>, <span class="type-var">'r</span>) <a href="../../../../Isa_btree__Isa_export/Disk_node/index.html#type-dnode">Isa_btree__Isa_export.Disk_node.dnode</a>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>)<span class="keyword"> * </span>(((<span class="type-var">'k</span>, <span class="type-var">'v</span>, <span class="type-var">'r</span>) <a href="../../../../Isa_btree__Isa_export/Disk_node/index.html#type-dnode">Isa_btree__Isa_export.Disk_node.dnode</a> <span>&#45;&gt;</span> (<span class="type-var">'r</span>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>)<span class="keyword"> * </span>(<span class="type-var">'r</span> list <span>&#45;&gt;</span> (unit, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a>))) <span>&#45;&gt;</span> (<span class="type-var">'k</span>, <span class="type-var">'v</span>, <span class="type-var">'r</span>) <a href="../../../../Isa_btree__Isa_export/Leaf_stream_state/index.html#type-ls_state">Isa_btree__Isa_export.Leaf_stream_state.ls_state</a> <span>&#45;&gt;</span> ((<span class="type-var">'k</span>, <span class="type-var">'v</span>, <span class="type-var">'r</span>) <a href="../index.html#type-ls_state">ls_state</a>, <span class="type-var">'t</span>) <a href="../argument-1-Monad/index.html#type-mm">Monad.mm</a></code></dt><dd><p>Step the leaf stream to the next leaf. If the leaf stream is finished (no more leaves), stepping will just return the leaf stream unchanged. So in the loop you need to check whether you have finished using <code>ls_is_finished</code>. FIXME here and elsewhere, staging</p></dd></dl></div></body></html>